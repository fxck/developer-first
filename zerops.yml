angular:
  build:
    base:
      - nodejs@16
    build:
      - npm i
      - npm run build angular
    deploy:
      - 'dist/apps/angular/~'
    cache:
      - node_modules

nestjs:
  build:
    base:
      - nodejs@16
    build:
      - npm i
      - npm run build nestjs
    deploy:
      - dist/apps/nestjs/~
      - node_modules
      - package.json
    cache:
      - node_modules
  run:
    start: node main.js

go:
  build:
    base:
      - go@1
      - nodejs@16
    build:
      - npm i
      - npm run build go
    deploy:
      - dist/apps/go
    cache:
      - node_modules
  run:
    start: ./go

dotnet:
  build:
    base:
      - dotnet@6
      - nodejs@16
    build:
      - npm i
      - npm run build dotnet
    deploy:
      - "dist/apps/dotnet/net6.0/~"
    cache:
      - node_modules
  run:
    start: dotnet DeveloperFirst.Dotnet.dll
